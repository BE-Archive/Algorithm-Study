# ì›œí™€

ì£¼ì°¨: 4ì›” 2ì£¼ì°¨
ë‚œì´ë„: ê³¨ë“œ 5
ë§í¬: https://www.acmicpc.net/problem/1865
ì†Œìš”ì‹œê°„: 1ì‹œê°„
ì•Œê³ ë¦¬ì¦˜: í”Œë¡œì´ë“œ ì›Œì…œ

# ë¬¸ì œ â“
![image](https://github.com/BE-Archive/Algorithm-Study/assets/76868151/77b7bf0b-2472-4b94-ae8a-e853208a87ae)

# ì…ì¶œë ¥ âŒ¨ï¸

![image](https://github.com/BE-Archive/Algorithm-Study/assets/76868151/c6917838-cf93-4c30-9b75-34e953bc802c)
# í’€ì´ ğŸ“š

## ì‚¬ê³  ê³¼ì • ğŸ¤”

**í”Œë¡œì´ë“œ ì›Œì…œ**ì„ ì‚¬ìš©í•´ì„œ ë‚˜â†’ë‚˜ ë¥¼ ê°ˆ ìˆ˜ ìˆëŠ” ë¹„ìš©ì´ ìŒìˆ˜ì¸ì§€ í™•ì¸í–ˆë‹¤.

TCê°€ 5ê°œì´ê³ , **`N`**ì´ 500 ì´ê¸° ë•Œë¬¸ì— **N*N*N*5 = ì•½ 6ì–µ** ì´ë¯€ë¡œ ì‚¬ì‹¤ìƒ 2ì´ˆ ì œí•œì— ë²—ì–´ë‚  ê²ƒìœ¼ë¡œ ì˜ˆìƒí–ˆìœ¼ë‚˜ í†µê³¼ê°€ ë˜ì—ˆë‹¤..? ì•„ë¬´ë˜ë„ 1ì´ˆ==1ì–µë²ˆì˜ ì—°ì‚°ì€ ì•„ë‹ˆë‹¤ë³´ë‹ˆ ê·¸ëŸ°ê²ƒ ê°™ê¸°ë„ í•˜ë‹¤

# ì „ì²´ ì½”ë“œ ğŸ–¥ï¸

## ë‚´ ì½”ë“œ ğŸ˜

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.util.StringTokenizer;

public class WormHole {
    //https://www.acmicpc.net/problem/1865
    //ì›œí™€
    static int N, M, W;
    static int[][] info, dist;

    static boolean solution() {
        for (int i = 1; i < N + 1; i++) {
            for (int j = 1; j < N + 1; j++) {
                for (int k = 1; k < N + 1; k++) {
                    dist[j][k] = Math.min(dist[j][k], info[j][k]);
                    if (dist[j][i] != Integer.MAX_VALUE && dist[i][k] != Integer.MAX_VALUE) {
                        dist[j][k] = Math.min(dist[j][k], dist[j][i] + dist[i][k]);
                    }
                    if (j == k && dist[j][k] < 0) return true;
                }
            }
        }
        return false;
    }

    public static void main(String[] args) throws IOException {
        BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));
        int T = Integer.parseInt(bf.readLine());
        StringBuilder sb = new StringBuilder();
        while (T-- > 0) {
            StringTokenizer st = new StringTokenizer(bf.readLine());
            N = Integer.parseInt(st.nextToken());
            M = Integer.parseInt(st.nextToken());
            W = Integer.parseInt(st.nextToken());
            info = new int[N + 1][N + 1];
            dist = new int[N + 1][N + 1];
            for (int i = 1; i < N + 1; i++) {
                Arrays.fill(info[i], Integer.MAX_VALUE);
                Arrays.fill(dist[i], Integer.MAX_VALUE);
                dist[i][i] = 0;
            }
            for (int i = 0; i < M; i++) {
                st = new StringTokenizer(bf.readLine());
                int a = Integer.parseInt(st.nextToken());
                int b = Integer.parseInt(st.nextToken());
                int c = Integer.parseInt(st.nextToken());
                info[a][b] = Math.min(info[a][b], c);
                info[b][a] = Math.min(info[b][a], c);
            }
            for (int i = 0; i < W; i++) {
                st = new StringTokenizer(bf.readLine());
                int a = Integer.parseInt(st.nextToken());
                int b = Integer.parseInt(st.nextToken());
                int c = Integer.parseInt(st.nextToken());
                info[a][b] = Math.min(info[a][b], -c);
            }
            sb.append(solution() ? "YES" : "NO").append("\n");
        }
        System.out.println(sb);
    }
}

```

## ë³´ì™„í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤ ğŸ’¡

ë²¨ë§Œ í¬ë“œê°€ ë„ëŒ€ì²´ ë¬´ì—‡ì¼ê¹Œ? ë‚˜ì¤‘ì— í™•ì¸í•´ë´ì•¼ê² ë‹¤