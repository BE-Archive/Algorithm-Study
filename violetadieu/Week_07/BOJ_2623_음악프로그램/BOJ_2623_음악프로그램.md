# íŒŒí‹°

ì£¼ì°¨: 3ì›” 2ì£¼ì°¨
ë‚œì´ë„: ê³¨ë“œ3
ë§í¬: https://www.acmicpc.net/problem/2623
ì†Œìš” ì‹œê°„: 20ë¶„
ì•Œê³ ë¦¬ì¦˜: ìœ„ìƒì •ë ¬

# í’€ì´ ðŸ“š

## ì‚¬ê³  ê³¼ì • ðŸ¤”

PDë‹ˆ ë­ë‹ˆ ì´ìƒí•œ ì†Œë¦¬ ë§Žì´ í•˜ëŠ”ë°, ê·¸ëƒ¥ ìˆœì„œë§Œ ë§žê²Œ ë°©ì†¡ ìˆœì„œë¥¼ ì •í•˜ë©´ ëœë‹¤. ìˆœì„œì— ë§žëŠ” ì—¬ëŸ¬ ê²½ìš°ì˜ ìˆ˜ê°€ ìžˆê² ì§€ë§Œ, ê·¸ëƒ¥ ì•„ë¬´ê±°ë‚˜ í•˜ë‚˜ ì¶œë ¥í•˜ë©´ ë¨

### 1ï¸âƒ£ ê°„ì„  ê´€ê³„ ì •ë¦¬
---
ê° PDê°€ ì œì¶œí•œ ë°©ì†¡ ìˆœì„œëŒ€ë¡œ ê°„ì„ ì´ ì§€ì •ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ 3 1 2 6 ì¼ ë•Œ(ë§¨ ì•ž ë°©ì†¡ì˜ ê°œìˆ˜ëŠ” í•„ìš” ì—†ìŒ)

3->1
1->2
2->6

ì˜ ê°„ì„  ê´€ê³„ë¥¼ ì •ë¦¬í•œë‹¤.

í•˜ë©´ì„œ ìžì‹ ì—ê²Œ ë“¤ì–´ì˜¤ëŠ” ê°„ì„ ì˜ ê°œìˆ˜ë¥¼ ì²´í¬í•´ì•¼ í•œë‹¤.(1->2, 4->2 ì¼ ë•Œ 2ë²ˆì€ input ê°„ì„ ì´ 2ê°œ)

ê·¸ëž˜í”„ì˜ ê°„ì„ ì´ ë­”ì§€ ëª¨ë¥´ë©´ ìœ ê°ì´ë‹ˆ ë°±ì¤€ ë¶€ê³„ì • íŒŒì„œ ê³µë¶€ ë” í•´ë¼

### 2ï¸âƒ£ 1ë²ˆ ê³¼ì •ì„ ê° PDë³„ë¡œ í•œë‹¤

ì´ ë•Œ ë‹¤ ê°™ì€ ê°„ì„  ë°°ì—´(or ë¦¬ìŠ¤íŠ¸, ì´ê±´ ì·¨í–¥)ì— ì§‘ì–´ë„£ì–´ì•¼ í•¨. PDë³„ë¡œ ë”°ë¡œí•˜ë©´ ì•„ì´ê³ ë‚œëª°ë¼

### 3ï¸âƒ£ ë‹¤ êµ¬í•´ì§„ ê°„ì„  ê´€ê³„ë¥¼ ê°€ì§€ê³  ìœ„ìƒ ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤.

1. input ê°„ì„ ì´ 0ê°œì¸ ë…¸ë“œë¥¼ queueì— ìš°ì„  ì§‘ì–´ë„£ëŠ”ë‹¤.
2. í•˜ë‚˜ì”© ë¹¼ë©´ì„œ ì—°ê²°ëœ ë…¸ë“œë¥¼ ë‹¤ì‹œ input, ì´ ë•Œ í˜„ìž¬ ë…¸ë“œì˜ input ê°„ì„ ì´ 0ì¼ë•ŒëŠ” ì •ë‹µ ì¶œë ¥ìš© ë¦¬ìŠ¤íŠ¸ì— ì§‘ì–´ë„£ì–´ì•¼ í•¨.(ë”ì´ìƒ queueì— ë“¤ì–´ì˜¤ì§€ ì•Šê¸° ë•Œë¬¸)
3. ì–¸ì  ê°€ëŠ” queueê°€ í…… ë¹ˆë‹¤.
4. ì •ë‹µ ì¶œë ¥ìš© ë¦¬ìŠ¤íŠ¸ê°€ ë…¸ë“œì˜ ê°œìˆ˜(N)ê³¼ ë‹¤ë¥´ë©´ ìˆœì„œë¥¼ ì •í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì´ê¸°ì—, 0ì„ ì¶œë ¥
5. ì•„ë‹ˆë©´ ê·¸ëƒ¥ ë¦¬ìŠ¤íŠ¸ ê³ ëŒ€ë¡œ ì¶œë ¥í•˜ë©´
6. ë!
---

ë‹¨ìˆœí•œ ìœ„ìƒ ì •ë ¬, í•˜ì§€ë§Œ PDë‹ˆ ë­ë‹ˆ ìžê¾¸ ì´ìƒí•œ ì†Œë¦¬ë¥¼ ì¨ëŒ€ì„œ í—·ê°ˆë¦¬ê²Œ ë§Œë“ ë‹¤. ê·¸ëƒ¥ ëª¨ë“  PDê°€ ì œì‹œí•œ ìˆœì„œë¥¼ í•˜ë‚˜ì˜ DAG í˜•íƒœë¡œ í†µí•©í•˜ê³  ìœ„ìƒ ì •ë ¬ì„ ìˆ˜í–‰í•˜ë©´ ëšë”±ì´ë‹¤.

íŒŒì´ì¬ì´ë‹ˆê¹Œ ë¦¬ë·° í™”ì´íŒ…

ì§ !

# ì „ì²´ ì½”ë“œ ðŸ–¥ï¸

## ë‚´ ì½”ë“œ ðŸ˜

```python
import sys
from collections import deque
input = sys.stdin.readline
N, M = map(int, input().split())
inorder = [0 for _ in range(N + 1)]
adj = [[] for _ in range(N + 1)]
for i in range(M):
    order = list(map(int, input().split()))[1:]
    for idx in range(len(order)-1):
        adj[order[idx]].append(order[idx + 1])
        inorder[order[idx + 1]] += 1
de = deque()
ans=list()
for i in range(1,N + 1):
    if inorder[i] == 0:
        de.append(i)
        ans.append(i)
while len(de) > 0:
    now = de.popleft()
    for i in range(len(adj[now])):
        inorder[adj[now][i]]-=1
        if inorder[adj[now][i]]==0:
            de.append(adj[now][i])
            ans.append(adj[now][i])
if len(ans)!=N:
    print(0)
    exit()
for item in ans:
    print(item)
```